{"uid":"8390783aff0731fe","name":"Search for a rental being returned to origin","fullName":"tests.test_search.TestSearch#test_search_return_origin","historyId":"d67dc8760742e805cc8f745fa8f9267e","time":{"start":1718132728076,"stop":1718132728076,"duration":0},"description":"Search with from and to airport being different","descriptionHtml":"<p>Search with from and to airport being different</p>\n","status":"broken","statusMessage":"TypeError: WebDriver.__init__() got multiple values for argument 'options'","statusTrace":"allure_env = None\nproperties = <utils.config_parser.ConfigParserIni object at 0x7fb54d08bdc0>\nrequest = <SubRequest 'create_driver' for <Function test_search_return_origin[PHX-06/12/2024-07/11/2024]>>\n\n    @fixture(autouse=True)\n    def create_driver(allure_env, properties, request):\n        \"\"\"\n        Download and setup the browser driver specified for use with the current run.\n        Driver Manager is used here, so that we no longer have to download the browser specific drivers manually\n    \n        :param allure_env:\n        :param properties:\n        :param request:\n        :return:\n        \"\"\"\n        global browser, base_url, driver\n        browser = request.config.option.browser\n        base_url = properties.config_section_dict(\"Base Url\")[\"base_url\"]\n    \n        if browser == \"firefox\":\n            driver = webdriver.Firefox(executable_path=GeckoDriverManager().install())\n        elif browser == \"chrome_headless\":\n            chrome_options = webdriver.ChromeOptions()\n            chrome_options.add_argument(\"--headless\")\n            chrome_options.add_argument(\"--disable-dev-shm-usage\")\n            chrome_options.add_argument(\"--no-sandbox\")\n            chrome_options.add_argument(\"--disable-gpu\")\n            chrome_options.add_argument(\"--disable-web-security\")\n>           driver = webdriver.Chrome(\n                ChromeDriverManager().install(), options=chrome_options\n            )\nE           TypeError: WebDriver.__init__() got multiple values for argument 'options'\n\ntests/conftest.py:117: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"properties","time":{"start":1718132727485,"stop":1718132727485,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"allure_env","time":{"start":1718132727485,"stop":1718132727485,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"create_driver","time":{"start":1718132728077,"stop":1718132728154,"duration":77},"status":"broken","statusMessage":"TypeError: WebDriver.__init__() got multiple values for argument 'options'\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/foxy-6Drg89Mr-py3.10/lib/python3.10/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/foxy-6Drg89Mr-py3.10/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/foxy-6Drg89Mr-py3.10/lib/python3.10/site-packages/_pytest/fixtures.py\", line 895, in call_fixture_func\n    fixture_result = next(generator)\n  File \"/home/runner/work/foxy/foxy/tests/conftest.py\", line 117, in create_driver\n    driver = webdriver.Chrome(\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"afterStages":[{"name":"allure_env::0","time":{"start":1718132728320,"stop":1718132728322,"duration":2},"status":"broken","statusMessage":"NameError: name 'driver' is not defined\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/foxy-6Drg89Mr-py3.10/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/foxy-6Drg89Mr-py3.10/lib/python3.10/site-packages/_pytest/fixtures.py\", line 911, in _teardown_yield_fixture\n    next(it)\n  File \"/home/runner/work/foxy/foxy/tests/conftest.py\", line 68, in allure_env\n    \"Browser\": driver.name,\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"severity","value":"blocker"},{"name":"epic","value":"Functional"},{"name":"feature","value":"Search"},{"name":"tag","value":"run(order=1)"},{"name":"tag","value":"functional"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_search"},{"name":"subSuite","value":"TestSearch"},{"name":"host","value":"fv-az1108-299"},{"name":"thread","value":"2176-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_search"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"end_date","value":"'07/11/2024'"},{"name":"from_airport","value":"'PHX'"},{"name":"start_date","value":"'06/12/2024'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"blocker","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["functional","run(order=1)"]},"source":"8390783aff0731fe.json","parameterValues":["'07/11/2024'","'PHX'","'06/12/2024'"]}